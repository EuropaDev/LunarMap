<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8">
    <title>Satellite Tracker</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/satellite.js/4.0.0/satellite.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/suncalc@1.9.0/suncalc.js"></script>
    
    <style>
        /* style.css iÃ§eriÄŸi */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; overflow: hidden; background: #0a0e27; }
        
        /* HaritanÄ±n GÃ¶rÃ¼nmesi Ä°Ã§in Kritik Alan */
        #map { height: 100vh; width: 100%; background: #000; }

        .info-panel { position: absolute; top: 16px; right: 16px; background: rgba(15, 23, 42, 0.95); backdrop-filter: blur(10px); border: 1px solid rgba(148, 163, 184, 0.1); border-radius: 12px; padding: 20px; width: 240px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4); color: #e2e8f0; z-index: 1000; }
        .info-title { font-size: 13px; font-weight: 600; color: #94a3b8; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 16px; }
        .info-stat { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; padding-bottom: 12px; border-bottom: 1px solid rgba(148, 163, 184, 0.1); }
        .stat-label { font-size: 12px; color: #94a3b8; }
        .stat-value { font-size: 20px; font-weight: 700; color: #f1f5f9; }
        
        .controls { position: absolute; right: 16px; top: 50%; transform: translateY(-50%); z-index: 1000; display: flex; flex-direction: column; gap: 8px; }
        .control-btn { width: 40px; height: 40px; background: rgba(15, 23, 42, 0.95); border: 1px solid rgba(148, 163, 184, 0.1); border-radius: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center; color: #e2e8f0; font-size: 18px; transition: all 0.2s; }
        
        .sidebar { position: absolute; left: -420px; top: 0; bottom: 0; width: 420px; background: rgba(15, 23, 42, 0.98); backdrop-filter: blur(10px); border-right: 1px solid rgba(148, 163, 184, 0.1); z-index: 1001; transition: left 0.3s ease; padding: 20px; color: white; }
        .sidebar.active { left: 0; }
        .lang-selector { position: absolute; top: 16px; left: 16px; z-index: 1000; }
        .legend-icon { width: 12px; height: 12px; border-radius: 50%; display: inline-block; margin-right: 8px; }
    </style>
</head>
<body>

<div class="lang-selector">
    <select class="lang-btn" id="langSelect" onchange="changeLang()">
        <option value="en">ðŸ‡¬ðŸ‡§ English</option>
        <option value="tr" selected>ðŸ‡¹ðŸ‡· TÃ¼rkÃ§e</option>
    </select>
</div>

<div id="map"></div>

<div class="sidebar" id="sidebar">
    <div class="sidebar-header">
        <h2 id="satName">Uydu SeÃ§ilmedi</h2>
        <button onclick="closeSidebar()" style="float:right; cursor:pointer; background:none; border:none; color:white; font-size:24px;">Ã—</button>
    </div>
    <div class="sidebar-content" style="margin-top:20px;">
        <p><strong>TÃ¼r:</strong> <span id="satType">-</span></p>
        <p><strong>YÃ¶rÃ¼nge:</strong> <span id="satOrbit">-</span></p>
        <p><strong>Enlem:</strong> <span id="satLat">-</span></p>
        <p><strong>Boylam:</strong> <span id="satLng">-</span></p>
    </div>
</div>

<div class="info-panel">
    <div class="info-title" id="liveTrackingText">CanlÄ± Takip</div>
    <div class="info-stat">
        <span class="stat-label" id="satellitesText">Uydular</span>
        <span class="stat-value" id="info">YÃ¼kleniyor...</span>
    </div>
    <div class="legend">
        <div class="legend-item"><div class="legend-icon" style="background:#eab308"></div><span>MEO</span></div>
        <div class="legend-item"><div class="legend-icon" style="background:#22c55e"></div><span>HEO</span></div>
        <div class="legend-item"><div class="legend-icon" style="background:#3b82f6"></div><span>GEO</span></div>
    </div>
</div>

<div class="controls">
    <button class="control-btn" onclick="map.zoomIn()">+</button>
    <button class="control-btn" onclick="map.zoomOut()">âˆ’</button>
</div>

<script>
    // script.js iÃ§eriÄŸi ve dÃ¼zeltmeler
    const translations = {
        en: { liveTracking: 'Live Tracking', satellites: 'Satellites', loading: 'Loading...' },
        tr: { liveTracking: 'CanlÄ± Takip', satellites: 'Uydular', loading: 'YÃ¼kleniyor...' }
    };

    let currentLang = 'tr';

    // Harita TanÄ±mlamasÄ±
    const map = L.map('map', {
        center: [20, 0], 
        zoom: 3, 
        minZoom: 2, 
        maxZoom: 8,
        zoomControl: false
    });

    // HARITA GÃ–RSELLERÄ°NÄ° YÃœKLEYEN KATMAN (Eksik olan buydu)
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'Â© OpenStreetMap'
    }).addTo(map);

    function changeLang() {
        currentLang = document.getElementById('langSelect').value;
        document.getElementById('liveTrackingText').innerText = translations[currentLang].liveTracking;
        document.getElementById('satellitesText').innerText = translations[currentLang].satellites;
    }

    function closeSidebar() {
        document.getElementById('sidebar').classList.remove('active');
    }

    // Ã–rnek: TÄ±klama ile sidebar aÃ§ma (Test iÃ§in)
    map.on('click', function() {
        // document.getElementById('sidebar').classList.add('active');
    });

    // Veri Ã§ekme simÃ¼lasyonu
    document.getElementById('info').innerText = "0";

</script>

</body>
</html>
